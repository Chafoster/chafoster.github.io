<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UMKM Location Analysis Dashboard</title>
  <style>
    :root{
      --umkm-red:#E10600;
      --umkm-black:#111111;
      --umkm-gray:#F6F6F6;
      --umkm-border:#EAEAEA;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: Inter, Arial, sans-serif;
      background:var(--umkm-gray);
      color:var(--umkm-black);
      padding:32px;
    }

    .app{
      max-width:1100px;
      margin:auto;
    }

    /* Header */
    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:32px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }

    .logo{
      width:48px;
      height:48px;
      border-radius:14px;
      background:var(--umkm-red);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:900;
      font-size:20px;
      letter-spacing:1px;
    }

    .brand-title{
      font-size:20px;
      font-weight:900;
      letter-spacing:1px;
    }

    .brand-sub{
      font-size:11px;
      color:#777;
      letter-spacing:1.5px;
    }

    /* Card */
    .card{
      background:#fff;
      border-radius:20px;
      padding:28px;
      box-shadow:0 12px 32px rgba(0,0,0,0.06);
      margin-bottom:28px;
    }

    .card h2{
      font-size:18px;
      margin:0 0 20px;
      padding-left: 14px;
      border-left:5px solid var(--umkm-red);
    }

    label{
      font-size:12px;
      font-weight:600;
      color:#555;
      margin-bottom:6px;
      display:block;
    }

    input, textarea{
      width:100%;
      padding:14px;
      border-radius:12px;
      border:1px solid var(--umkm-border);
      font-size:14px;
      background:#fff;
    }

    input:focus, textarea:focus{
      outline:none;
      border-color:var(--umkm-red);
      box-shadow:0 0 0 2px rgba(225,6,0,0.1);
    }

    textarea{resize:vertical}

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:20px;
    }

    /* Buttons */
    .actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:10px;
    }

    button{
      border:none;
      border-radius:999px;
      padding:14px 26px;
      font-size:14px;
      font-weight:700;
      cursor:pointer;
      transition:all .2s ease;
    }

    .btn-primary{background:var(--umkm-red);color:#fff}
    .btn-dark{background:#000;color:#fff}

    button:hover{transform:translateY(-1px);opacity:.92}

    /* Result */
    .result{
      margin-top:24px;
      padding:22px;
      border-radius:16px;
      font-weight:600;
      font-size:14px;
    }

    .green{background:#ECF7F0;color:#1E7E34}
    .yellow{background:#FFF7E0;color:#856404}
    .red{background:#FDECEA;color:#B02A37}

    footer{
      text-align:center;
      margin-top:40px;
      font-size:12px;
      color:#999;
    }

    @media print{
      body{background:#fff;padding:0}
      button{display:none}
      .card{box-shadow:none}
    }
  </style>
</head>
<body>
<div class="app">

  <div class="header">
    <div class="brand">
      <div class="logo">L</div>
      <div>
        <div class="brand-title">LOCATION INSIGHT</div>
        <div class="brand-sub">BUSINESS FEASIBILITY DASHBOARD</div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>A. Identitas Lokasi</h2>
    <label>Nama Lokasi</label>
    <input id="nama" placeholder="Contoh: Ruko...">
    <label>Alamat</label>
    <textarea id="alamat" placeholder="Alamat lengkap lokasi"></textarea>
  </div>

  <div class="card">
    <h2>B. Biaya & Traffic</h2>
    <div class="grid">
      <div>
        <label>Sewa / Bulan (Rp)</label>
        <input id="sewa" type="number" placeholder="0">
      </div>
      <div>
        <label>Orang Lewat / Jam</label>
        <input id="traffic" type="number" placeholder="0">
      </div>
      <div>
        <label>Harga Rata-rata Produk</label>
        <input id="harga" type="number" placeholder="0">
      </div>
    </div>
  </div>

  <div class="card">
    <h2>C. Skor Lokasi (1–5)</h2>
    <div class="grid">
      <input id="s1" type="number" min="1" max="5" placeholder="Lokasi & Visibilitas">
      <input id="s2" type="number" min="1" max="5" placeholder="Harga Sewa">
      <input id="s3" type="number" min="1" max="5" placeholder="Kompetitor">
      <input id="s4" type="number" min="1" max="5" placeholder="Potensi Online Order">
      <input id="s5" type="number" min="1" max="5" placeholder="Akses & Parkir">
    </div>
  </div>

  <div class="card">
    <h2>D. Hasil Analisa</h2>
    <div class="actions">
      <button class="btn-primary" onclick="hitung()">Hitung Analisa</button>
      <button class="btn-dark" onclick="window.print()">Export PDF</button>
    </div>
    <div id="output"></div>
    <canvas id="radarChart" width="300" height="300" style="margin-top:20px"></canvas>
    <canvas id="barChart" width="400" height="200" style="margin-top:20px"></canvas>
  </div>

  <footer>Monnarrchoo © 2026</footer>
</div>

<script>
function get(id){return Number(document.getElementById(id).value||0)}

function hitung(){
  const skorMap = {
    lokasi: get('s1'),
    sewa: get('s2'),
    kompetitor: get('s3'),
    online: get('s4'),
    parkir: get('s5')
  };

  const skor = Object.values(skorMap);
  if(skor.some(v => v < 1)){
    document.getElementById('output').innerHTML =
      '<div class="result red">Lengkapi semua skor (1–5)</div>';
    return;
  }

  const total = skor.reduce((a,b)=>a+b,0);
  const traffic = get('traffic');
  const harga = get('harga');
  const sewa = get('sewa');

  const omzet = Math.round(traffic * 0.05) * harga * 30;
  const rasioSewa = sewa / omzet;

  /* ===== STATUS KELAYAKAN ===== */
  let cls='red', status='RISIKO TINGGI';
  if(total >= 22){ cls='green'; status='SANGAT LAYAK'; }
  else if(total >= 18){ cls='yellow'; status='LAYAK (Perlu Negosiasi)'; }

  /* ===== INSIGHT ===== */
  let insight = [];
  if(skorMap.lokasi >= 4) insight.push('Visibilitas lokasi sangat kuat');
  if(skorMap.kompetitor <= 2) insight.push('Tekanan kompetitor cukup tinggi');
  if(skorMap.online >= 4) insight.push('Potensi online order sangat baik');
  if(rasioSewa > 0.4) insight.push('Biaya sewa berisiko terhadap cashflow');

  if(insight.length === 0) insight.push('Karakteristik lokasi relatif seimbang');

  /* ===== REKOMENDASI ===== */
  let rekomendasi = [];
  if(rasioSewa > 0.4){
    rekomendasi.push('Disarankan negosiasi sewa atau skema revenue sharing');
  }
  if(skorMap.kompetitor <= 2){
    rekomendasi.push('Perlu diferensiasi menu atau strategi promo agresif');
  }
  if(skorMap.online >= 4){
    rekomendasi.push('Fokuskan GoFood/GrabFood sejak awal operasional');
  }
  if(rekomendasi.length === 0){
    rekomendasi.push('Lokasi cukup aman untuk langsung dieksekusi');
  }

  document.getElementById('output').innerHTML = `
    <div class="result ${cls}">
      <b>HASIL ANALISA</b><br><br>

      Total Skor: <b>${total}/25</b><br>
      Estimasi Omzet/Bulan: <b>Rp ${omzet.toLocaleString('id-ID')}</b><br>
      Rasio Sewa terhadap Omzet: <b>${(rasioSewa*100).toFixed(1)}%</b><br><br>

      <b>Insight Utama:</b>
      <ul>${insight.map(i=>`<li>${i}</li>`).join('')}</ul>

      <b>Rekomendasi:</b>
      <ul>${rekomendasi.map(r=>`<li>${r}</li>`).join('')}</ul>

      <b>Kesimpulan:</b> ${status}
    </div>
  `;
}
</script>
  <script>
function get(id){return Number(document.getElementById(id).value||0)}

function drawRadar(scores){
  const c = document.getElementById("radarChart");
  const ctx = c.getContext("2d");
  ctx.clearRect(0,0,c.width,c.height);

  const labels = ["Lokasi","Sewa","Kompetitor","Online","Parkir"];
  const cx = 150, cy = 150, r = 100;

  ctx.strokeStyle="#ddd";
  for(let i=1;i<=5;i++){
    ctx.beginPath();
    for(let a=0;a<5;a++){
      const angle = (Math.PI*2/5)*a - Math.PI/2;
      const x = cx + (r*i/5)*Math.cos(angle);
      const y = cy + (r*i/5)*Math.sin(angle);
      a===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
    }
    ctx.closePath(); ctx.stroke();
  }

  ctx.beginPath();
  scores.forEach((v,i)=>{
    const angle = (Math.PI*2/5)*i - Math.PI/2;
    const x = cx + (r*v/5)*Math.cos(angle);
    const y = cy + (r*v/5)*Math.sin(angle);
    i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
  });
  ctx.closePath();
  ctx.fillStyle="rgba(225,6,0,.3)";
  ctx.strokeStyle="#E10600";
  ctx.fill(); ctx.stroke();
}

function drawBar(omzet,sewa){
  const c = document.getElementById("barChart");
  const ctx = c.getContext("2d");
  ctx.clearRect(0,0,c.width,c.height);

  const max = Math.max(omzet,sewa);
  const scale = 150/max;

  ctx.fillStyle="#E10600";
  ctx.fillRect(80,180-omzet*scale,60,omzet*scale);

  ctx.fillStyle="#333";
  ctx.fillRect(200,180-sewa*scale,60,sewa*scale);

  ctx.fillStyle="#000";
  ctx.fillText("Omzet",90,195);
  ctx.fillText("Sewa",215,195);
}

function hitung(){
  const s = [get('s1'),get('s2'),get('s3'),get('s4'),get('s5')];
  if(s.some(v=>v<1)){
    document.getElementById('output').innerHTML =
      '<div class="result red">Lengkapi semua skor (1–5)</div>';
    return;
  }

  const total = s.reduce((a,b)=>a+b,0);
  const omzet = Math.round(get('traffic')*0.05)*get('harga')*30;
  const sewa = get('sewa');

  let cls='red', status='RISIKO TINGGI';
  if(total>=22){cls='green';status='SANGAT LAYAK'}
  else if(total>=18){cls='yellow';status='LAYAK (Negosiasi)'}

  document.getElementById('output').innerHTML = `
    <div class="result ${cls}">
      Total Skor: <b>${total}/25</b><br>
      Estimasi Omzet: <b>Rp ${omzet.toLocaleString('id-ID')}</b><br>
      Kesimpulan: <b>${status}</b>
    </div>
  `;

  drawRadar(s);
  drawBar(omzet,sewa);
}
</script>
</body>
</html>
